(self.webpackChunkadminpro=self.webpackChunkadminpro||[]).push([[606],{1606:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ChildRoutesModule:()=>Et});var s=i(8619),r=i(6252),o=i(1858);let a=(()=>{class t{constructor(t,e){this.userService=t,this.router=e}canActivate(t,e){return"ADMIN_ROLE"===this.userService.role||(this.router.navigateByUrl("/dashboard"),!1)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(r.K),s.LFG(o.F0))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var n=i(2531);let c=(()=>{class t{constructor(t){this.settingsService=t}ngOnInit(){this.settingsService.checkCurrentTheme()}changeTheme(t){this.settingsService.changeTheme(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.g))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-account-settings"]],decls:48,vars:0,consts:[[1,"row"],[1,"col-5"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme","working",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"ul",5),s.TgZ(6,"li"),s.TgZ(7,"b"),s._uU(8,"Con el sidebar claro"),s.qZA(),s.qZA(),s.TgZ(9,"li"),s.TgZ(10,"a",6),s.NdJ("click",function(){return e.changeTheme("default")}),s._uU(11,"1"),s.qZA(),s.qZA(),s.TgZ(12,"li"),s.TgZ(13,"a",7),s.NdJ("click",function(){return e.changeTheme("green")}),s._uU(14,"2"),s.qZA(),s.qZA(),s.TgZ(15,"li"),s.TgZ(16,"a",8),s.NdJ("click",function(){return e.changeTheme("red")}),s._uU(17,"3"),s.qZA(),s.qZA(),s.TgZ(18,"li"),s.TgZ(19,"a",9),s.NdJ("click",function(){return e.changeTheme("blue")}),s._uU(20,"4"),s.qZA(),s.qZA(),s.TgZ(21,"li"),s.TgZ(22,"a",10),s.NdJ("click",function(){return e.changeTheme("purple")}),s._uU(23,"5"),s.qZA(),s.qZA(),s.TgZ(24,"li"),s.TgZ(25,"a",11),s.NdJ("click",function(){return e.changeTheme("megna")}),s._uU(26,"6"),s.qZA(),s.qZA(),s.TgZ(27,"li",12),s.TgZ(28,"b"),s._uU(29,"Con el sidebar oscuro"),s.qZA(),s.qZA(),s.TgZ(30,"li"),s.TgZ(31,"a",13),s.NdJ("click",function(){return e.changeTheme("default-dark")}),s._uU(32,"7"),s.qZA(),s.qZA(),s.TgZ(33,"li"),s.TgZ(34,"a",14),s.NdJ("click",function(){return e.changeTheme("green-dark")}),s._uU(35,"8"),s.qZA(),s.qZA(),s.TgZ(36,"li"),s.TgZ(37,"a",15),s.NdJ("click",function(){return e.changeTheme("red-dark")}),s._uU(38,"9"),s.qZA(),s.qZA(),s.TgZ(39,"li"),s.TgZ(40,"a",16),s.NdJ("click",function(){return e.changeTheme("blue-dark")}),s._uU(41,"10"),s.qZA(),s.qZA(),s.TgZ(42,"li"),s.TgZ(43,"a",17),s.NdJ("click",function(){return e.changeTheme("purple-dark")}),s._uU(44,"11"),s.qZA(),s.qZA(),s.TgZ(45,"li"),s.TgZ(46,"a",18),s.NdJ("click",function(){return e.changeTheme("megna-dark")}),s._uU(47,"12"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA())},encapsulation:2}),t})(),l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1,"dashboard works!"),s.qZA())},encapsulation:2}),t})();var u=i(2501),d=i.n(u),g=i(7570);class h extends g.w{constructor(t,e){super()}schedule(t,e=0){return this}}class p extends h{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,s=!1;try{this.work(t)}catch(r){s=!0,i=!!r&&r||new Error(r)}if(s)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Z=(()=>{class t{constructor(e,i=t.now){this.SchedulerAction=e,this.now=i}schedule(t,e=0,i){return new this.SchedulerAction(this,t).schedule(i,e)}}return t.now=()=>Date.now(),t})();class m extends Z{constructor(t,e=Z.now){super(t,()=>m.delegate&&m.delegate!==this?m.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return m.delegate&&m.delegate!==this?m.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const f=new m(p);var v=i(6673),A=i(653),q=i(878),T=i(8318);let b=(()=>{class t{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return(0,q.of)(this.value);case"E":return t=this.error,new T.y(e=>e.error(t));case"C":return(0,A.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function U(t,e=f){var i;const s=(i=t)instanceof Date&&!isNaN(+i)?+t-e.now():Math.abs(t);return t=>t.lift(new x(s,e))}class x{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new _(t,this.delay,this.scheduler))}}class _ extends v.L{constructor(t,e,i){super(t),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,i=e.queue,s=t.scheduler,r=t.destination;for(;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(r);if(i.length>0){const e=Math.max(0,i[0].time-s.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(_.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,i=new w(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(b.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(b.createComplete()),this.unsubscribe()}}class w{constructor(t,e){this.time=t,this.notification=e}}var I=i(9996),k=i(529),y=i(2693);const J=k.N.base_api_url;let N=(()=>{class t{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}getDoctorById(t){return this.http.get(`${J}/doctors/${t}`,Object.assign({},this.headers)).pipe((0,I.U)(({doctor:t})=>t))}getDoctors(t=0){return this.http.get(`${J}/doctors?from=${t}`,Object.assign({},this.headers)).pipe((0,I.U)(t=>({doctors:t.doctors,total:t.total,ok:t.ok})))}createDoctor({name:t,hospital:e}){return this.http.post(`${J}/doctors`,{name:t,hospital:e},Object.assign({},this.headers))}updateDoctor({_id:t,name:e,hospital:i}){return this.http.put(`${J}/doctors/${t}`,{name:e,hospital:i},Object.assign({},this.headers))}deleteDoctor(t){return this.http.delete(`${J}/doctors/${t}`,Object.assign({},this.headers))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(y.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=i(1765);class C{constructor(t,e,i,s,r){this._id=t,this.name=e,this.img=i,this.user=s,this.hospital=r}}class O{constructor(t,e,i,s){this._id=t,this.name=e,this.img=i,this.user=s}}var H=i(4767);const D=k.N.base_api_url;let Y=(()=>{class t{constructor(t){this.http=t,this.from=0}get headers(){return{headers:{"x-token":this.token}}}get token(){return localStorage.getItem("token")||""}transformUsers(t){return t.map(t=>{const{name:e,role:i,google:s,email:r,img:o="",uid:a}=t;return new H.n(e,r,"",o,s,i,a)})}transformHospitals(t){return t.map(t=>{const{name:e,img:i,_id:s}=t;return new O(s,e,i)})}transformDoctors(t){return t.map(t=>{const{name:e,img:i,_id:s}=t;return new C(s,e,i)})}searchAll(t=""){return this.http.get(`${D}/search?criteria=${t}`,Object.assign({},this.headers))}search(t,e=""){return this.http.get(`${D}/search/collection/${t}?${e}`,Object.assign({},this.headers)).pipe((0,I.U)(e=>{switch(t){case"users":return{results:this.transformUsers(e.results),total:e.total};case"hospitals":return{results:this.transformHospitals(e.results),total:e.total};case"doctors":return{results:this.transformDoctors(e.results),total:e.total};default:return{results:[],total:0}}}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(y.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var M=i(1116),Q=i(5140);function F(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",7),s.TgZ(3,"h4",8),s._uU(4,"Loading"),s.qZA(),s._UZ(5,"i",9),s.TgZ(6,"p",10),s._uU(7,"Please wait..."),s.qZA(),s.qZA(),s.qZA(),s.qZA())}const P=function(t){return["/dashboard/doctor",t]};function $(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s.TgZ(2,"img",26),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).openModal(e)}),s.ALo(3,"image"),s.qZA(),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td",27),s.TgZ(7,"a",28),s._UZ(8,"i",29),s.qZA(),s.TgZ(9,"a",30),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).deleteDoctor(e)}),s._UZ(10,"i",31),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,3,t.img||"","doctors"),s.LSH),s.xp6(3),s.Oqu(t.name),s.xp6(2),s.Q6J("routerLink",s.VKq(6,P,t._id))}}function L(t,e){if(1&t&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Oqu(t.total)}}function E(t,e){if(1&t&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Oqu(t.from+t.incPage)}}const j=function(){return["/dashboard/doctor","new"]};function B(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",11),s.TgZ(5,"div",12),s.TgZ(6,"h4",13),s._uU(7),s.qZA(),s.TgZ(8,"h6",14),s._uU(9,"Doctors registered in the application"),s.qZA(),s.qZA(),s.TgZ(10,"div",15),s.TgZ(11,"div",16),s.TgZ(12,"button",17),s._UZ(13,"i",18),s._uU(14," Create Doctor "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",19),s.TgZ(16,"table",20),s.TgZ(17,"thead"),s.TgZ(18,"tr"),s.TgZ(19,"th",21),s._uU(20,"Image"),s.qZA(),s.TgZ(21,"th"),s._uU(22,"Name"),s.qZA(),s.TgZ(23,"th",22),s._uU(24,"Actions"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"tbody"),s.YNc(26,$,11,8,"tr",23),s.qZA(),s.qZA(),s.TgZ(27,"button",24),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.changePage(-e.incPage)}),s._uU(28," Previous "),s.qZA(),s._uU(29," \xa0 "),s.TgZ(30,"button",24),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.changePage(e.incPage)}),s._uU(31," Next "),s.qZA(),s._UZ(32,"br"),s._UZ(33,"br"),s.TgZ(34,"span"),s._uU(35),s.YNc(36,L,2,1,"span",25),s.YNc(37,E,2,1,"span",25),s._uU(38),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(7),s.hij("Total Doctors (",t.total,")"),s.xp6(5),s.Q6J("routerLink",s.DdM(7,j)),s.xp6(14),s.Q6J("ngForOf",t.doctors),s.xp6(9),s.hij("Showing results from: ",t.total>0?t.from+1:0," to "),s.xp6(1),s.Q6J("ngIf",t.from+t.incPage>t.total),s.xp6(1),s.Q6J("ngIf",t.from+t.incPage<t.total),s.xp6(1),s.hij(" of ",t.total,"")}}let V=(()=>{class t{constructor(t,e,i){this.doctorService=t,this.modalImageService=e,this.searchsService=i,this.doctors=[],this.total=0,this.loading=!0,this.from=0,this.incPage=5}ngOnInit(){this.getDoctors(),this.imageSubscription=this.modalImageService.newImage.pipe(U(200)).subscribe(t=>this.getDoctors())}ngOnDestroy(){this.imageSubscription.unsubscribe()}getDoctors(){this.loading=!0,this.doctorService.getDoctors(this.from).subscribe(t=>{this.loading=!1,this.total=t.total,this.doctors=t.doctors})}deleteDoctor(t){d().fire({title:"Delete Doctor?",text:`Do you want to delete doctor ${t.name}?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(e=>{e.isConfirmed&&this.doctorService.deleteDoctor(t._id).subscribe(()=>{this.getDoctors(),d().fire("Doctor deleted",`${t.name} user has been deleted.`,"success")})})}changePage(t){this.from+=t,this.from<0?this.from=0:this.from>=this.total&&(this.from-=t);const e=document.getElementById("inputSearch").value;e?this.search(e):this.getDoctors()}openModal(t){this.modalImageService.openModal("doctors",t._id||"",t.img)}search(t){t?this.searchsService.search("doctors",`criteria=${t}&from=${this.from}`).subscribe(t=>{this.doctors=t.results,this.total=t.total,0===this.total&&(this.from=0)}):this.getDoctors()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(N),s.Y36(S.e),s.Y36(Y))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-doctors"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["id","inputSearch","type","text","placeholder","Search user...",1,"form-control",3,"keyup"],["inputSearch",""],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col"],[1,"card-title"],[1,"card-subtitle"],[1,"col-8"],[1,"text-right"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-hospital-o"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"row-avatar-image"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"],[4,"ngIf"],["alt","Avatar's doctor",1,"row-avatar-image","cursor",3,"src","click"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Edit",1,"cursor",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"input",4,5),s.NdJ("keyup",function(){s.CHM(t);const i=s.MAs(5);return e.search(i.value)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(6,F,8,0,"div",6),s.YNc(7,B,39,8,"div",6)}2&t&&(s.xp6(6),s.Q6J("ngIf",e.loading),s.xp6(1),s.Q6J("ngIf",!e.loading))},directives:[M.O5,o.rH,M.sg,o.yS],pipes:[Q.I],encapsulation:2}),t})();var X=i(1462);const R=k.N.base_api_url;let G=(()=>{class t{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}getHospitals(t=0){return this.http.get(`${R}/hospitals?from=${t}`,Object.assign({},this.headers)).pipe((0,I.U)(t=>({hospitals:t.hospitals,total:t.total,ok:t.ok})))}createHospital(t){return this.http.post(`${R}/hospitals`,{name:t},Object.assign({},this.headers))}updateHospital(t,e){return this.http.put(`${R}/hospitals/${t}`,{name:e},Object.assign({},this.headers))}deleteHospital(t){return this.http.delete(`${R}/hospitals/${t}`,Object.assign({},this.headers))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(y.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function z(t,e){if(1&t&&(s.TgZ(0,"div",8),s.TgZ(1,"label",22),s._uU(2,"Image"),s.qZA(),s.TgZ(3,"div",10),s._UZ(4,"img",23),s.ALo(5,"image"),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(4),s.Q6J("src",s.xi3(5,1,t.selectedDoctor.img||"","doctors"),s.LSH)}}function K(t,e){if(1&t&&(s.TgZ(0,"option",24),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t._id),s.xp6(1),s.hij(" ",t.name," ")}}function W(t,e){if(1&t&&(s.TgZ(0,"div",25),s.TgZ(1,"div",2),s.TgZ(2,"div",3),s.TgZ(3,"h4",4),s._uU(4,"Hospital"),s.qZA(),s.TgZ(5,"h6",5),s._uU(6),s.qZA(),s._UZ(7,"img",26),s.ALo(8,"image"),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(6),s.Oqu(null==t.selectedHospital?null:t.selectedHospital.name),s.xp6(1),s.Q6J("src",s.xi3(8,2,(null==t.selectedHospital?null:t.selectedHospital.img)||"","hospitals"),s.LSH)}}let tt=(()=>{class t{constructor(t,e,i,s,r){this.formBuild=t,this.doctorService=e,this.hospitalService=i,this.router=s,this.activatedRoute=r}ngOnInit(){var t;this.activatedRoute.params.subscribe(({id:t})=>{this.getDoctor(t)}),this.getHospitals(),this.doctorForm=this.formBuild.group({name:["",X.kI.required],hospital:["",X.kI.required]}),null===(t=this.doctorForm.get("hospital"))||void 0===t||t.valueChanges.subscribe(t=>{var e;this.selectedHospital=(null===(e=this.hospitals)||void 0===e?void 0:e.find(e=>e._id===t))||void 0})}getDoctor(t){"new"!==t&&this.doctorService.getDoctorById(t).pipe(U(150)).subscribe(t=>{if(!t)return this.router.navigateByUrl("/dashboard/doctors");const{name:e,hospital:i}=t;this.selectedDoctor=t,this.doctorForm.setValue({name:e,hospital:null==i?void 0:i._id})})}getHospitals(){this.hospitalService.getHospitals().subscribe(({hospitals:t})=>{this.hospitals=t})}saveDoctor(){if(this.selectedDoctor){const t=Object.assign(Object.assign({},this.doctorForm.value),{_id:this.selectedDoctor._id});this.doctorService.updateDoctor(t).subscribe(({doctor:t})=>{d().fire("Doctor updated",`${t.name} updated successfully`,"success")})}else{const{name:t}=this.doctorForm.value;this.doctorService.createDoctor(this.doctorForm.value).subscribe(e=>{d().fire("Doctor created",`${t} created successfully`,"success"),this.router.navigateByUrl(`/dashboard/doctor/${e.doctor._id}`)})}}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(X.qu),s.Y36(N),s.Y36(G),s.Y36(o.F0),s.Y36(o.gz))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-doctor"]],decls:31,vars:5,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","name"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["formControlName","name","type","text","id","doctor-name","placeholder","Doctor's name",1,"form-control"],["for","hospital"],[1,"ti-home"],["formControlName","hospital",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],["class","col animated fadeIn fast",4,"ngIf"],["for","image"],["alt","",1,"img-avatar",3,"src"],[3,"value"],[1,"col","animated","fadeIn","fast"],["alt","",1,"w400-cover",3,"src"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4",4),s._uU(5,"Doctor"),s.qZA(),s.TgZ(6,"h6",5),s._uU(7,"Update Information"),s.qZA(),s.TgZ(8,"form",6),s.NdJ("ngSubmit",function(){return e.saveDoctor()}),s.YNc(9,z,6,4,"div",7),s.TgZ(10,"div",8),s.TgZ(11,"label",9),s._uU(12,"Name"),s.qZA(),s.TgZ(13,"div",10),s.TgZ(14,"div",11),s._UZ(15,"i",12),s.qZA(),s._UZ(16,"input",13),s.qZA(),s.qZA(),s.TgZ(17,"div",8),s.TgZ(18,"label",14),s._uU(19,"Hospital"),s.qZA(),s.TgZ(20,"div",10),s.TgZ(21,"div",11),s._UZ(22,"i",15),s.qZA(),s.TgZ(23,"select",16),s.TgZ(24,"option",17),s._uU(25,"Select Hospital"),s.qZA(),s.YNc(26,K,2,2,"option",18),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"button",19),s._UZ(28,"i",20),s._uU(29," Submit "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(30,W,9,5,"div",21),s.qZA()),2&t&&(s.xp6(8),s.Q6J("formGroup",e.doctorForm),s.xp6(1),s.Q6J("ngIf",e.selectedDoctor),s.xp6(17),s.Q6J("ngForOf",e.hospitals),s.xp6(1),s.Q6J("disabled",e.doctorForm.invalid),s.xp6(3),s.Q6J("ngIf",e.selectedHospital))},directives:[X._Y,X.JL,X.sg,M.O5,X.Fj,X.JJ,X.u,X.EJ,X.YN,X.Kr,M.sg],pipes:[Q.I],encapsulation:2}),t})();var et=i(111);let it=(()=>{class t{constructor(){this.title="",this.doughnutChartLabels=["Label 1","Label 2","Label 3"],this.doughnutChartData=[[300,400,200]],this.doughnutChartType="doughnut",this.colors=[{backgroundColor:["#6857E6","#009FEE","#F02059"]}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-doughnut"]],inputs:{title:"title",doughnutChartLabels:["labels","doughnutChartLabels"],doughnutChartData:["data","doughnutChartData"]},decls:7,vars:5,consts:[[1,"card"],[1,"card-body"],[2,"display","block"],["baseChart","",3,"data","labels","colors","chartType"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h3"),s._uU(3),s.qZA(),s.TgZ(4,"div"),s.TgZ(5,"div",2),s._UZ(6,"canvas",3),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Oqu(e.title),s.xp6(3),s.Q6J("data",e.doughnutChartData)("labels",e.doughnutChartLabels)("colors",e.colors)("chartType",e.doughnutChartType))},directives:[et.jh],encapsulation:2}),t})(),st=(()=>{class t{constructor(){this.labels1=["Download Sales","In-Store Sales","Mail-Order Sales"],this.data1=[[350,450,100]]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-graph1"]],decls:10,vars:4,consts:[[1,"row"],[1,"col-6"],["title","Sales 1",3,"labels","data"],["title","Sales 2",3,"labels","data"],["title","Sales 3"],["title","Sales 4"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._UZ(2,"app-doughnut",2),s.qZA(),s.TgZ(3,"div",1),s._UZ(4,"app-doughnut",3),s.qZA(),s.qZA(),s.TgZ(5,"div",0),s.TgZ(6,"div",1),s._UZ(7,"app-doughnut",4),s.qZA(),s.TgZ(8,"div",1),s._UZ(9,"app-doughnut",5),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Q6J("labels",e.labels1)("data",e.data1),s.xp6(2),s.Q6J("labels",e.labels1)("data",e.data1))},directives:[it],encapsulation:2}),t})();var rt=i(6304);function ot(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",7),s.TgZ(3,"h4",8),s._uU(4,"Loading"),s.qZA(),s._UZ(5,"i",9),s.TgZ(6,"p",10),s._uU(7,"Please wait..."),s.qZA(),s.qZA(),s.qZA(),s.qZA())}function at(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s.TgZ(2,"img",26),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).openModal(e)}),s.ALo(3,"image"),s.qZA(),s.qZA(),s.TgZ(4,"td"),s.TgZ(5,"input",27),s.NdJ("ngModelChange",function(t){return e.$implicit.name=t}),s.qZA(),s.qZA(),s.TgZ(6,"td",28),s.TgZ(7,"a",29),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).updateHospital(e)}),s._UZ(8,"i",30),s.qZA(),s.TgZ(9,"a",31),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).deleteHospital(e)}),s._UZ(10,"i",32),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,3,t.img||"","hospitals"),s.LSH)("alt",t.name),s.xp6(3),s.Q6J("ngModel",t.name)}}function nt(t,e){if(1&t&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Oqu(t.total)}}function ct(t,e){if(1&t&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Oqu(t.from+t.incPage)}}function lt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",11),s.TgZ(5,"div",12),s.TgZ(6,"h4",13),s._uU(7),s.qZA(),s.TgZ(8,"h6",14),s._uU(9," Hospitals registered in the application "),s.qZA(),s.qZA(),s.TgZ(10,"div",15),s.TgZ(11,"div",16),s.TgZ(12,"button",17),s.NdJ("click",function(){return s.CHM(t),s.oxw().openSweetAlert()}),s._UZ(13,"i",18),s._uU(14," Create Hospital "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",19),s.TgZ(16,"table",20),s.TgZ(17,"thead"),s.TgZ(18,"tr"),s.TgZ(19,"th",21),s._uU(20,"Image"),s.qZA(),s.TgZ(21,"th"),s._uU(22,"Name"),s.qZA(),s.TgZ(23,"th",22),s._uU(24,"Actions"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"tbody"),s.YNc(26,at,11,6,"tr",23),s.qZA(),s.qZA(),s.TgZ(27,"button",24),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.changePage(-e.incPage)}),s._uU(28," Previous "),s.qZA(),s._uU(29," \xa0 "),s.TgZ(30,"button",24),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.changePage(e.incPage)}),s._uU(31," Next "),s.qZA(),s._UZ(32,"br"),s._UZ(33,"br"),s.TgZ(34,"span"),s._uU(35),s.YNc(36,nt,2,1,"span",25),s.YNc(37,ct,2,1,"span",25),s._uU(38),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(7),s.hij("Total Hospitals (",t.total,")"),s.xp6(19),s.Q6J("ngForOf",t.hospitals),s.xp6(9),s.hij("Showing results from: ",t.total>0?t.from+1:0," to "),s.xp6(1),s.Q6J("ngIf",t.from+t.incPage>t.total),s.xp6(1),s.Q6J("ngIf",t.from+t.incPage<t.total),s.xp6(1),s.hij(" of ",t.total,"")}}let ut=(()=>{class t{constructor(t,e,i){this.hospitalService=t,this.modalImageService=e,this.searchsService=i,this.hospitals=[],this.total=0,this.loading=!0,this.from=0,this.incPage=5}ngOnInit(){this.getHospitals(),this.imageSubscription=this.modalImageService.newImage.pipe(U(200)).subscribe(t=>this.getHospitals())}ngOnDestroy(){}getHospitals(){this.loading=!0,this.hospitalService.getHospitals(this.from).subscribe(({hospitals:t,total:e})=>{this.loading=!1,this.hospitals=t,this.total=e})}createHospital(t){this.hospitalService.createHospital(t).subscribe(t=>{this.hospitals.push(t.hospital)})}updateHospital(t){this.hospitalService.updateHospital(t._id,t.name).subscribe(()=>d().fire("Changes saved","Hospital edited succesfully","success"))}deleteHospital(t){d().fire({title:"Delete hospital?",text:`Do you want to delete ${t.name} hospital?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(e=>{e.isConfirmed&&this.hospitalService.deleteHospital(t._id).subscribe(()=>{this.getHospitals(),d().fire("Hospital deleted",`${t.name} user has been deleted.`,"success")})})}changePage(t){this.from+=t,this.from<0?this.from=0:this.from>=this.total&&(this.from-=t);const e=document.getElementById("inputSearch").value;e?this.search(e):this.getHospitals()}openSweetAlert(){var t=this;return(0,rt.Z)(function*(){const{value:e=""}=yield d().fire({title:"Create Hospital",input:"text",inputLabel:"Name",inputPlaceholder:"Hospital's name",showCancelButton:!0});e.trim().length>0&&t.createHospital(e)})()}openModal(t){this.modalImageService.openModal("hospitals",t._id||"",t.img)}search(t){t?this.searchsService.search("hospitals",`criteria=${t}&from=${this.from}`).subscribe(t=>{this.hospitals=t.results,this.total=t.total,0===this.total&&(this.from=0)}):this.getHospitals()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(G),s.Y36(S.e),s.Y36(Y))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-hospitals"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["id","inputSearch","type","text","placeholder","Search hospital...",1,"form-control",3,"keyup"],["inputSearch",""],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col"],[1,"card-title"],[1,"card-subtitle"],[1,"col-8"],[1,"text-right"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-hospital-o"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"],[4,"ngIf"],[1,"row-avatar-image",3,"src","alt","click"],["type","text","placeholder","Hospital's name",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Edit",1,"cursor",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"input",4,5),s.NdJ("keyup",function(){s.CHM(t);const i=s.MAs(5);return e.search(i.value)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(6,ot,8,0,"div",6),s.YNc(7,lt,39,6,"div",6)}2&t&&(s.xp6(6),s.Q6J("ngIf",e.loading),s.xp6(1),s.Q6J("ngIf",!e.loading))},directives:[M.O5,M.sg,X.Fj,X.JJ,X.On],pipes:[Q.I],encapsulation:2}),t})();var dt=i(7640),gt=i(5763);function ht(t,e){if(1&t&&(s._UZ(0,"img",24),s.ALo(1,"image")),2&t){const t=s.oxw();s.Q6J("src",s.xi3(1,1,t.user.img||"","users"),s.LSH)}}function pt(t,e){if(1&t&&s._UZ(0,"img",24),2&t){const t=s.oxw();s.Q6J("src",t.previewImageService.previewImage,s.LSH)}}let Zt=(()=>{class t{constructor(t,e,i,s){this.previewImageService=t,this.fileUploadService=e,this.formBuilder=i,this.userService=s,this.user=s.user,this.imageFile=this.previewImageService.imageFile,this.previewImage=this.previewImageService.previewImage}ngOnInit(){const{email:t,name:e}=this.user;this.profileForm=this.formBuilder.group({name:[e,X.kI.required],email:[t,[X.kI.required,X.kI.email]]})}ngOnDestroy(){this.previewImageService.resetImages()}updateProfile(){this.userService.updateUser(this.profileForm.value).subscribe(t=>{this.user.name=t.user.name,this.user.email=t.user.email,d().fire("Changes saved","User modified","success")},t=>{d().fire("Error",t.error.msg,"error")})}changePreviewImage(t){this.previewImageService.changePreviewImage(t)}uploadImage(){var t=this;return(0,rt.Z)(function*(){if(t.previewImageService.imageFile){const e=yield t.fileUploadService.updateImage(t.previewImageService.imageFile,"users",t.user.uid||"");e?(t.user.img=e.fileName,d().fire("Changes saved",e.msg,"success")):d().fire("Error","Fail uploading image","error")}})()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(dt.I),s.Y36(gt.J),s.Y36(X.qu),s.Y36(r.K))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-profile"]],decls:45,vars:6,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["formControlName","name","type","text","id","exampleInputuname","placeholder","Username",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["formControlName","email","type","email","id","exampleInputEmail1","placeholder","Enter email",1,"form-control",3,"readOnly"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"card-body","grid"],["class","img-avatar","alt","",3,"src",4,"ngIf"],[1,"custom-file","d-block"],["type","file","id","file",1,"custom-file-input",3,"change"],[1,"custom-file-control"],["type","button",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled","click"],["alt","",1,"img-avatar",3,"src"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4",4),s._uU(5,"User Profile"),s.qZA(),s.TgZ(6,"h6",5),s._uU(7,"Settings"),s.qZA(),s.TgZ(8,"form",6),s.NdJ("ngSubmit",function(){return e.updateProfile()}),s.TgZ(9,"div",7),s.TgZ(10,"label",8),s._uU(11,"User Name"),s.qZA(),s.TgZ(12,"div",9),s.TgZ(13,"div",10),s._UZ(14,"i",11),s.qZA(),s._UZ(15,"input",12),s.qZA(),s.qZA(),s.TgZ(16,"div",7),s.TgZ(17,"label",13),s._uU(18,"Email address"),s.qZA(),s.TgZ(19,"div",9),s.TgZ(20,"div",10),s._UZ(21,"i",14),s.qZA(),s._UZ(22,"input",15),s.qZA(),s.qZA(),s.TgZ(23,"button",16),s._UZ(24,"i",17),s._uU(25," Save changes "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"div",1),s.TgZ(27,"div",2),s.TgZ(28,"div",18),s.TgZ(29,"h4",4),s._uU(30,"Avatar"),s.qZA(),s.TgZ(31,"h6",5),s._uU(32,"User image"),s.qZA(),s.YNc(33,ht,2,4,"img",19),s.YNc(34,pt,1,1,"img",19),s._UZ(35,"br"),s.TgZ(36,"fieldset",7),s.TgZ(37,"label"),s._uU(38,"Select image"),s.qZA(),s.TgZ(39,"label",20),s.TgZ(40,"input",21),s.NdJ("change",function(t){return e.changePreviewImage(t)}),s.qZA(),s._UZ(41,"span",22),s.qZA(),s.qZA(),s.TgZ(42,"button",23),s.NdJ("click",function(){return e.uploadImage()}),s._UZ(43,"i",17),s._uU(44," Save image "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(8),s.Q6J("formGroup",e.profileForm),s.xp6(14),s.Q6J("readOnly",e.user.google),s.xp6(1),s.Q6J("disabled",e.profileForm.invalid),s.xp6(10),s.Q6J("ngIf",!e.previewImageService.previewImage),s.xp6(1),s.Q6J("ngIf",e.previewImageService.previewImage),s.xp6(8),s.Q6J("disabled",!e.previewImageService.imageFile))},directives:[X._Y,X.JL,X.sg,X.Fj,X.JJ,X.u,M.O5],pipes:[Q.I],styles:[".card-body.grid[_ngcontent-%COMP%]{display:grid}"]}),t})();const mt=function(t){return{"is-invalid":t}};let ft=(()=>{class t{constructor(){this.progress=40,this.btnClass="btn-primary",this.cbValue=new s.vpe,this.max=100,this.min=0,this.getProgress=()=>`${this.progress}%`}ngOnInit(){this.btnClass=`btn ${this.btnClass}`}changeValue(t){this.progress<=this.min&&t<=0?this.progress=this.min:this.progress>=this.max&&t>=0?this.progress=this.max:this.progress+=t,this.cbValue.emit(this.progress)}onChange(t){this.cbValue.emit(t>=this.max?this.max:t<=this.min?this.min:t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-increment"]],inputs:{progress:["value","progress"],btnClass:"btnClass"},outputs:{cbValue:"cbValue"},decls:8,vars:8,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",3,"ngClass","click"],[1,"fa","fa-minus"],["type","number","placeholder","Product name",1,"form-control",3,"min","max","ngClass","ngModel","ngModelChange"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"span",1),s.TgZ(2,"button",2),s.NdJ("click",function(){return e.changeValue(-5)}),s._UZ(3,"i",3),s.qZA(),s.qZA(),s.TgZ(4,"input",4),s.NdJ("ngModelChange",function(t){return e.onChange(t)})("ngModelChange",function(t){return e.progress=t}),s.qZA(),s.TgZ(5,"span",1),s.TgZ(6,"button",2),s.NdJ("click",function(){return e.changeValue(5)}),s._UZ(7,"i",5),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Q6J("ngClass",e.btnClass),s.xp6(2),s.Q6J("min",e.min)("max",e.max)("ngClass",s.VKq(6,mt,e.progress>e.max||e.progress<e.min))("ngModel",e.progress),s.xp6(2),s.Q6J("ngClass",e.btnClass))},directives:[M.mk,X.qQ,X.Fd,X.wV,X.Fj,X.JJ,X.On],encapsulation:2}),t})(),vt=(()=>{class t{constructor(){this.progress1=25,this.progress2=35}ngOnInit(){}get getProgress1(){return`${this.progress1}%`}get getProgress2(){return`${this.progress2}%`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-progress"]],decls:24,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],["id","pgr3",1,"collapse","m-t-15"],[1,"progress","m-t-20"],["role","progressbar",1,"progress-bar","bg-info","progress-bar-striped",2,"height","10px"],["role","progressbar",1,"progress-bar","bg-danger","progress-bar-striped",2,"height","10px"],[1,"col-6"],[3,"btnClass","value","cbValue"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4",4),s._uU(5,"Striped Progress bar"),s.qZA(),s._UZ(6,"div",5),s.TgZ(7,"div",6),s._UZ(8,"div",7),s.qZA(),s.TgZ(9,"div",6),s._UZ(10,"div",8),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"div",0),s.TgZ(12,"div",9),s.TgZ(13,"div",2),s.TgZ(14,"div",3),s.TgZ(15,"app-increment",10),s.NdJ("cbValue",function(t){return e.progress1=t}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(16,"div",9),s.TgZ(17,"div",2),s.TgZ(18,"div",3),s.TgZ(19,"app-increment",10),s.NdJ("cbValue",function(t){return e.progress2=t}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",9),s.TgZ(21,"div",2),s.TgZ(22,"div",3),s._uU(23,"2"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(8),s.Udp("width",e.getProgress1),s.xp6(2),s.Udp("width",e.getProgress2),s.xp6(5),s.Q6J("btnClass","btn-info")("value",e.progress1),s.xp6(4),s.Q6J("btnClass","btn-danger")("value",e.progress2))},directives:[ft],styles:[".progress-bar.active[_ngcontent-%COMP%], .progress.active[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{animation:progress-bar-stripes 2s linear infinite}.progress-vertical[_ngcontent-%COMP%], .progress-vertical-bottom[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px}.progress-vertical-bottom[_ngcontent-%COMP%]{transform:rotate(180deg)}.progress-animated[_ngcontent-%COMP%]{-webkit-animation-duration:5s;-webkit-animation-name:myanimation;-webkit-transition:all 5s;animation-duration:5s;animation-name:myanimation;transition:all 5s}@keyframes myanimation{0%{width:0}}"]}),t})(),At=(()=>{class t{constructor(){}ngOnInit(){var t=this;return(0,rt.Z)(function*(){yield t.getUsers()})()}getUsers(){return(0,rt.Z)(function*(){return new Promise((t,e)=>{fetch("https://reqres.in/api/users").then(function(){var e=(0,rt.Z)(function*(e){return t(yield e.json())});return function(t){return e.apply(this,arguments)}}())})})()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-promises"]],decls:2,vars:0,template:function(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1,"promises works!"),s.qZA())},encapsulation:2}),t})();var qt=i(8470);function Tt(t){const{subscriber:e,counter:i,period:s}=t;e.next(i),this.schedule({subscriber:e,counter:i+1,period:s},s)}var bt=i(611),Ut=i(3835);let xt=(()=>{class t{constructor(){this.getIntervalObservable=()=>function(t=0,e=f){var i;return((0,qt.k)(i=t)||!(i-parseFloat(i)+1>=0)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=f),new T.y(i=>(i.add(e.schedule(Tt,t,{subscriber:i,counter:0,period:t})),i))}(500).pipe((0,bt.q)(10),(0,I.U)(t=>t+1),(0,Ut.h)(t=>t%2==0)),this.getObservable=()=>{let t=-1;return new T.y(e=>{setInterval(()=>{t++,e.next(t),4==t&&(clearInterval(),e.complete()),2==t&&e.error("There was an error at the count of 2")},1e3)})}}ngOnInit(){this.subscription=this.getIntervalObservable().subscribe(t=>console.log(t))}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-rxjs"]],decls:2,vars:0,template:function(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1,"rxjs works!"),s.qZA())},encapsulation:2}),t})();function _t(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",7),s.TgZ(3,"h4",8),s._uU(4,"Loading"),s.qZA(),s._UZ(5,"i",9),s.TgZ(6,"p",10),s._uU(7,"Please wait..."),s.qZA(),s.qZA(),s.qZA(),s.qZA())}function wt(t,e){1&t&&(s.TgZ(0,"span",31),s._uU(1,"google"),s.qZA())}function It(t,e){1&t&&(s.TgZ(0,"span",32),s._uU(1,"email"),s.qZA())}function kt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td"),s.TgZ(2,"img",20),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).openModal(e)}),s.ALo(3,"image"),s.qZA(),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td",21),s.TgZ(9,"select",22),s.NdJ("ngModelChange",function(t){return e.$implicit.role=t})("change",function(){const e=s.CHM(t).$implicit;return s.oxw(2).changeRole(e)}),s.TgZ(10,"option",23),s._uU(11,"Admin"),s.qZA(),s._uU(12," User "),s.TgZ(13,"option",24),s._uU(14,"User"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"td",25),s.YNc(16,wt,2,0,"span",26),s.YNc(17,It,2,0,"span",27),s.qZA(),s.TgZ(18,"td",28),s.TgZ(19,"a",29),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).deleteUser(e)}),s._UZ(20,"i",30),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,6,t.img||"","users"),s.LSH),s.xp6(3),s.Oqu(t.email),s.xp6(2),s.Oqu(t.name),s.xp6(2),s.Q6J("ngModel",t.role),s.xp6(7),s.Q6J("ngIf",t.google),s.xp6(1),s.Q6J("ngIf",!t.google)}}function yt(t,e){if(1&t&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Oqu(t.totalUsers)}}function Jt(t,e){if(1&t&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.Oqu(t.from+t.incPage)}}function Nt(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4",11),s._uU(5),s.qZA(),s.TgZ(6,"h6",12),s._uU(7,"Users registered in the application"),s.qZA(),s.TgZ(8,"div",13),s.TgZ(9,"table",14),s.TgZ(10,"thead"),s.TgZ(11,"tr"),s.TgZ(12,"th",15),s._uU(13,"Avatar"),s.qZA(),s.TgZ(14,"th"),s._uU(15,"Email"),s.qZA(),s.TgZ(16,"th"),s._uU(17,"Name"),s.qZA(),s.TgZ(18,"th",15),s._uU(19,"Role"),s.qZA(),s.TgZ(20,"th",15),s._uU(21,"Auth"),s.qZA(),s.TgZ(22,"th",16),s._uU(23,"Actions"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"tbody"),s.YNc(25,kt,21,9,"tr",17),s.qZA(),s.qZA(),s.TgZ(26,"button",18),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.changePage(-e.incPage)}),s._uU(27," Previous "),s.qZA(),s._uU(28," \xa0 "),s.TgZ(29,"button",18),s.NdJ("click",function(){s.CHM(t);const e=s.oxw();return e.changePage(e.incPage)}),s._uU(30," Next "),s.qZA(),s._UZ(31,"br"),s._UZ(32,"br"),s.TgZ(33,"span"),s._uU(34),s.YNc(35,yt,2,1,"span",19),s.YNc(36,Jt,2,1,"span",19),s._uU(37),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(5),s.hij("Total Users (",t.totalUsers,")"),s.xp6(20),s.Q6J("ngForOf",t.users),s.xp6(9),s.hij("Showing results from: ",t.totalUsers>0?t.from+1:0," to "),s.xp6(1),s.Q6J("ngIf",t.from+t.incPage>t.totalUsers),s.xp6(1),s.Q6J("ngIf",t.from+t.incPage<t.totalUsers),s.xp6(1),s.hij(" of ",t.totalUsers,"")}}let St=(()=>{class t{constructor(t,e,i){this.modalImageService=t,this.userService=e,this.searchService=i,this.totalUsers=0,this.users=[],this.from=0,this.incPage=5,this.loading=!0}ngOnInit(){this.loadUsers(),this.imageSubscription=this.modalImageService.newImage.pipe(U(200)).subscribe(t=>this.loadUsers())}ngOnDestroy(){this.imageSubscription.unsubscribe()}loadUsers(){this.loading=!0,this.userService.getUsers(this.from).subscribe(({total:t,users:e})=>{this.loading=!1,this.totalUsers=t,0!==e.length&&(this.users=e)})}changePage(t){this.from+=t,this.from<0?this.from=0:this.from>=this.totalUsers&&(this.from-=t);const e=document.getElementById("inputSearch").value;e?this.search(e):this.loadUsers()}search(t){t?this.searchService.search("users",`criteria=${t}&from=${this.from}`).subscribe(t=>{this.users=t.results,this.totalUsers=t.total,0===this.totalUsers&&(this.from=0)}):this.loadUsers()}deleteUser(t){t.uid===this.userService.user.uid?d().fire("Error","You cannot delete yourself!","error"):d().fire({title:"Delete user?",text:`Do you want to delete ${t.name} user?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(e=>{e.isConfirmed&&this.userService.deleteUser(t).subscribe(e=>{this.loadUsers(),d().fire("User deleted",`${t.name} user has been deleted.`,"success")})})}changeRole(t){this.userService.updateUser(t).subscribe(t=>{})}openModal(t){this.modalImageService.openModal("users",t.uid||"",t.img)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(S.e),s.Y36(r.K),s.Y36(Y))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-users"]],decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["id","inputSearch","type","text","placeholder","Search user...",1,"form-control",3,"keyup"],["inputSearch",""],["class","row animated fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"],[4,"ngIf"],["alt","Avatar's user",1,"row-avatar-image","cursor",3,"src","click"],[1,"w140"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","ADMIN_ROLE"],["value","USER_ROLE"],[1,"text-nowrap"],["class","label label-danger",4,"ngIf"],["class","label label-info",4,"ngIf"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"label","label-danger"],[1,"label","label-info"]],template:function(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"input",4,5),s.NdJ("keyup",function(){s.CHM(t);const i=s.MAs(5);return e.search(i.value)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(6,_t,8,0,"div",6),s.YNc(7,Nt,38,6,"div",6)}2&t&&(s.xp6(6),s.Q6J("ngIf",e.loading),s.xp6(1),s.Q6J("ngIf",!e.loading))},directives:[M.O5,M.sg,X.EJ,X.JJ,X.On,X.YN,X.Kr],pipes:[Q.I],encapsulation:2}),t})();function Ct(t,e){1&t&&(s.TgZ(0,"div",6),s.TgZ(1,"p",7),s._uU(2,"No users found matching these terms"),s.qZA(),s.qZA())}function Ot(t,e){if(1&t&&(s.TgZ(0,"tr",11),s.TgZ(1,"td"),s._UZ(2,"img",12),s.ALo(3,"image"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,2,t.img||"","users"),s.LSH),s.xp6(3),s.Oqu(t.name)}}function Ht(t,e){if(1&t&&(s.TgZ(0,"div",8),s.TgZ(1,"table",9),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th"),s._uU(5,"Avatar"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Name"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"tbody"),s.YNc(9,Ot,6,5,"tr",10),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(9),s.Q6J("ngForOf",t.users)}}function Dt(t,e){1&t&&(s.TgZ(0,"div",6),s.TgZ(1,"p",7),s._uU(2,"No doctors found matching these terms"),s.qZA(),s.qZA())}const Yt=function(t){return["/dashboard/doctor",t]};function Mt(t,e){if(1&t&&(s.TgZ(0,"tr",14),s.TgZ(1,"td"),s._UZ(2,"img",12),s.ALo(3,"image"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.Q6J("routerLink",s.VKq(6,Yt,t._id)),s.xp6(2),s.Q6J("src",s.xi3(3,3,t.img||"","doctors"),s.LSH),s.xp6(3),s.Oqu(t.name)}}function Qt(t,e){if(1&t&&(s.TgZ(0,"div",8),s.TgZ(1,"table",9),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th"),s._uU(5,"Avatar"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Name"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"tbody"),s.YNc(9,Mt,6,8,"tr",13),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(9),s.Q6J("ngForOf",t.doctors)}}function Ft(t,e){1&t&&(s.TgZ(0,"div",6),s.TgZ(1,"p",7),s._uU(2,"No hospitals found matching these terms"),s.qZA(),s.qZA())}function Pt(t,e){if(1&t&&(s.TgZ(0,"tr",11),s.TgZ(1,"td"),s._UZ(2,"img",12),s.ALo(3,"image"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,2,t.img||"","hospitals"),s.LSH),s.xp6(3),s.Oqu(t.name)}}function $t(t,e){if(1&t&&(s.TgZ(0,"div",8),s.TgZ(1,"table",9),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th"),s._uU(5,"Avatar"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Name"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"tbody"),s.YNc(9,Pt,6,5,"tr",10),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(9),s.Q6J("ngForOf",t.hospitals)}}const Lt=[{path:"",component:l,data:{title:"Dashboard"}},{path:"account-settings",component:c,data:{title:"Account Settings"}},{path:"graph1",component:st,data:{title:"Graphics 1"}},{path:"progress",component:vt,data:{title:"Progress"}},{path:"profile",component:Zt,data:{title:"User Profile"}},{path:"promises",component:At,data:{title:"Promises"}},{path:"rxjs",component:xt,data:{title:"RxJS "}},{path:"search/:terms",component:(()=>{class t{constructor(t,e){this.activatedRoute=t,this.searchService=e}ngOnInit(){this.activatedRoute.params.subscribe(({terms:t})=>{this.searchAll(t)})}searchAll(t){this.searchService.searchAll(t).subscribe(({hospitals:t,users:e,doctors:i})=>{this.users=e,this.hospitals=t,this.doctors=i})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.gz),s.Y36(Y))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-search"]],decls:22,vars:6,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-4"],[1,"card"],[1,"card-body"],["class","alert alert-info",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"alert","alert-info"],[1,"mb-0"],[1,"table-responsive"],[1,"table"],["class","animated fadeIn fast",4,"ngFor","ngForOf"],[1,"animated","fadeIn","fast"],[1,"row-avatar-image","cursor",3,"src"],["class","animated fadeIn fast cursor",3,"routerLink",4,"ngFor","ngForOf"],[1,"animated","fadeIn","fast","cursor",3,"routerLink"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h3"),s._uU(5,"Users"),s.qZA(),s.YNc(6,Ct,3,0,"div",4),s.YNc(7,Ht,10,1,"div",5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"div",1),s.TgZ(9,"div",2),s.TgZ(10,"div",3),s.TgZ(11,"h3"),s._uU(12,"Doctors"),s.qZA(),s.YNc(13,Dt,3,0,"div",4),s.YNc(14,Qt,10,1,"div",5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",1),s.TgZ(16,"div",2),s.TgZ(17,"div",3),s.TgZ(18,"h3"),s._uU(19,"Hospitals"),s.qZA(),s.YNc(20,Ft,3,0,"div",4),s.YNc(21,$t,10,1,"div",5),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(6),s.Q6J("ngIf",!(null!=e.users&&e.users.length)),s.xp6(1),s.Q6J("ngIf",null==e.users?null:e.users.length),s.xp6(6),s.Q6J("ngIf",!(null!=e.doctors&&e.doctors.length)),s.xp6(1),s.Q6J("ngIf",null==e.doctors?null:e.doctors.length),s.xp6(6),s.Q6J("ngIf",!(null!=e.hospitals&&e.hospitals.length)),s.xp6(1),s.Q6J("ngIf",null==e.hospitals?null:e.hospitals.length))},directives:[M.O5,M.sg,o.rH],pipes:[Q.I],encapsulation:2}),t})(),data:{title:"Search"}},{path:"users",canActivate:[a],component:St,data:{title:"Users Management"}},{path:"hospitals",component:ut,data:{title:"Hospitals Management"}},{path:"doctors",component:V,data:{title:"Doctors Management"}},{path:"doctor/:id",canActivate:[a],component:tt,data:{title:"Doctor Management"}}];let Et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.Bz.forChild(Lt)],o.Bz]}),t})()}}]);